
remove(lst)
requires lseg(lst, null)
ensures lseg(returned, null)
{
    if (lst = null)
        return null;
    else {
        curr := lst;
        while ( Random && curr.next ~= null) curr ~= null * lseg(lst, curr) * lseg(curr, null) {
            curr := curr.next;
        }
        tmp := curr.next;
        if (tmp = null) {
        } else {
            curr.next := tmp.next;
            free tmp;
        }
        return lst;
    }
}
