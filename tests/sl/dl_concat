dl_concat(start1, end1, start2, end2)
requires dlseg(start1, null, null, end1) * dlseg(start2, null, null, end2)
ensures (null ~= start2 * null ~= start1 * dlseg(returned, null, null, end2)) ||
        (null = start1 * dlseg(returned, null, null, end2)) ||
        (null = start2 * dlseg(returned, null, null, end1))
{
    if (start2 = null) {
        return start1;
    } else if (start1 = null) {
        return start2;
    } else {
        end1.next := start2;
        start2.back := end1;
        return start1;
    }
}
