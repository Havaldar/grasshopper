method copy(lst)
    requires lseg(next, lst, null);
    ensures lseg(next, lst, null) * lseg(next, returned, null);
{
    curr := lst;
    cp := null;
    while(curr != null) 
        invariant lseg(next, lst, curr) * lseg(next, curr, null) * lseg(next, cp, null);
    {
        old_cp := cp;
        new cp;
        cp.next := old_cp;
        curr := curr.next;
    }
    return cp;
}
