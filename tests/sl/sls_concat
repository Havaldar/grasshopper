method concat(a, b, x)
    requires lslseg(a, null, x) * uslseg(b, null, x);
    ensures slseg(returned, null);
{
    if (a == null) {
        return b;
    } else {
        curr := a;
        while(curr.next != null) 
            invariant curr != null * lslseg(a, curr, curr.data) * lslseg(curr, null, x);
        {
            curr := curr.next; 
        }
        curr.next := b;
        return a;
    }
}
