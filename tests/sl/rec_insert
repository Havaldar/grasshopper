procedure rec_insert(lst, elt)
    requires lseg(lst, null) * elt |-> null;
    ensures lseg(returned, null);
{
    if (lst = null)
        return elt;
    else if (Random) {
        elt.next := lst;
        return elt;
    } else {
        n1 := lst.next;
        n2 := rec_insert(n1, elt);
        lst.next := n2;
        return lst;
    }
}
