include "../include/slsset.spl";

procedure traverse(lst: Node, implicit ghost C: Set<Int>)
  requires sorted_set(lst, null, C);
  ensures sorted_set(lst, null, C);
{
  var curr: Node;
  curr := lst;
  var prev: Node;
  prev := null;
  while (curr != null) 
    invariant (prev == null && curr == lst || prev.next |-> curr) -** 
      sorted_set(lst, null, C);
  {
    prev := curr;
    curr := curr.next; 
  }
}
